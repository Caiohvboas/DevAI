services:
  n8n:
    image: n8nio/n8n
    restart: always
    ports:
      - "127.0.0.1:5678:5678"
    environment:
      # Define o fuso hor치rio para o n8n. Importante para agendamentos e logs.
      - TZ=America/Sao_Paulo
      # Garante que o n8n escute em todas as interfaces de rede, necess치rio para o Fly.io.
      - N8N_HOST=0.0.0.0
      # IMPORTANTE: Permite que seu site no GitHub Pages acesse o n8n.
      # Substitua 'Caiohvboas' pelo seu usu치rio do GitHub.
      - N8N_CORS_ALLOWED_ORIGINS=https://Caiohvboas.github.io,http://localhost:8080
    volumes:
      # O volume '.n8n' armazena seus workflows e credenciais de forma persistente.
      # Ele ser치 criado dentro de uma pasta chamada 'n8n-data' na raiz do seu projeto.
      - ./n8n-data:/home/node/.n8n

volumes:
  n8n-data:
